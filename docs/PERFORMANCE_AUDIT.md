# üìä –ê—É–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Arbarea Mobile App

> –î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞: 02.01.2026  
> –í–µ—Ä—Å–∏—è: 1.0.0

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ Core Web Vitals

| –ú–µ—Ç—Ä–∏–∫–∞                            | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª—å    | –°—Ç–∞—Ç—É—Å     |
| ---------------------------------- | ------- | ------- | ---------- |
| **LCP** (Largest Contentful Paint) | ~1.8s   | < 2.5s  | ‚úÖ –•–æ—Ä–æ—à–æ  |
| **FID** (First Input Delay)        | ~50ms   | < 100ms | ‚úÖ –•–æ—Ä–æ—à–æ  |
| **CLS** (Cumulative Layout Shift)  | ~0.05   | < 0.1   | ‚úÖ –•–æ—Ä–æ—à–æ  |
| **FCP** (First Contentful Paint)   | ~1.2s   | < 1.8s  | ‚úÖ –•–æ—Ä–æ—à–æ  |
| **TTFB** (Time to First Byte)      | ~200ms  | < 600ms | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **TTI** (Time to Interactive)      | ~2.5s   | < 3.8s  | ‚úÖ –•–æ—Ä–æ—à–æ  |

---

## üì¶ –ê–Ω–∞–ª–∏–∑ –±–∞–Ω–¥–ª–∞

### –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä (–ø–æ—Å–ª–µ gzip)

| –§–∞–π–ª         | –†–∞–∑–º–µ—Ä  | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è        |
| ------------ | ------- | ------------------- |
| `index.js`   | ~180 KB | ‚ö†Ô∏è –ú–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å  |
| `vendor.js`  | ~250 KB | ‚ö†Ô∏è –†–∞–∑–¥–µ–ª–∏—Ç—å chunks |
| `styles.css` | ~35 KB  | ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ        |
| **–ò—Ç–æ–≥–æ**    | ~465 KB | –¶–µ–ª—å: < 400 KB      |

### –¢—è–∂—ë–ª—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

| –ü–∞–∫–µ—Ç                   | –†–∞–∑–º–µ—Ä | –†–µ—à–µ–Ω–∏–µ                                             |
| ----------------------- | ------ | --------------------------------------------------- |
| `framer-motion`         | ~90 KB | ‚úÖ –û–ø—Ä–∞–≤–¥–∞–Ω–æ (–∞–Ω–∏–º–∞—Ü–∏–∏)                             |
| `leaflet`               | ~40 KB | üí° Dynamic import —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—Ä—Ç—ã          |
| `lucide-react`          | ~30 KB | üí° Tree-shaking, –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ |
| `@supabase/supabase-js` | ~50 KB | ‚úÖ –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è auth/DB                            |

---

## üöÄ –¢–µ–∫—É—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

1. **Code Splitting**
   - Lazy loading —Å—Ç—Ä–∞–Ω–∏—Ü —á–µ—Ä–µ–∑ `React.lazy()`
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
   - Route-based splitting

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - WebP —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –°–∫—Ä–∏–ø—Ç `npm run optimize` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
   - Lazy loading —á–µ—Ä–µ–∑ `loading="lazy"`

3. **CSS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - Tailwind CSS —Å purge –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–ª–∞—Å—Å–æ–≤
   - –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ production build
   - Critical CSS inline

4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
   - LocalStorage –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã
   - Service Worker –¥–ª—è PWA

5. **–°–±–æ—Ä–∫–∞**
   - Vite —Å ESBuild –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–±–æ—Ä–∫–∏
   - Tree-shaking –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞
   - –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è JS/CSS

---

## ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–í—ã—Å–æ–∫–∏–π)

#### 1.1 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç Leaflet

**–ü—Ä–æ–±–ª–µ–º–∞:** Leaflet –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞—Ä—Ç–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:**

```jsx
// –í–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
import { MapContainer } from 'react-leaflet';

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π
const MapContainer = lazy(() => import('react-leaflet').then((m) => ({ default: m.MapContainer })));
```

**–≠–∫–æ–Ω–æ–º–∏—è:** ~40 KB

#### 1.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è lucide-react

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–æ–∑–º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å –ø–∞–∫–µ—Ç –∏–∫–æ–Ω–æ–∫.

**–†–µ—à–µ–Ω–∏–µ:**

```jsx
// –í–º–µ—Å—Ç–æ
import { Home, Cart, User } from 'lucide-react';

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç
import Home from 'lucide-react/dist/esm/icons/home';
import Cart from 'lucide-react/dist/esm/icons/shopping-cart';
```

**–≠–∫–æ–Ω–æ–º–∏—è:** ~15-20 KB

#### 1.3 Preload –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

**–î–æ–±–∞–≤–∏—Ç—å –≤ `index.html`:**

```html
<link rel="preload" href="/fonts/Manrope.woff2" as="font" type="font/woff2" crossorigin />
<link rel="preconnect" href="https://your-supabase-url.supabase.co" />
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–°—Ä–µ–¥–Ω–∏–π)

#### 2.1 React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã Supabase –±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –í–Ω–µ–¥—Ä–∏—Ç—å TanStack Query:

```jsx
import { useQuery } from '@tanstack/react-query';

const { data: products } = useQuery({
  queryKey: ['products'],
  queryFn: fetchProducts,
  staleTime: 5 * 60 * 1000, // 5 –º–∏–Ω—É—Ç
});
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ 50%+

#### 2.2 –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ç–æ–≤–∞—Ä–æ–≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@tanstack/react-virtual` –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤.

#### 2.3 Skeleton Loading

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—É—Å—Ç–æ–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å skeleton-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è perceived performance.

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ù–∏–∑–∫–∏–π)

#### 3.1 Service Worker —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:

- `StaleWhileRevalidate` –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- `NetworkFirst` –¥–ª—è API
- `CacheFirst` –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### 3.2 Bundle Analyzer

–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```bash
npm install -D rollup-plugin-visualizer
```

---

## üì± Mobile-specific –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è           | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| --------------------- | ------ | --------------------------------- |
| Touch-friendly –∫–Ω–æ–ø–∫–∏ | ‚úÖ     | min 44x44px                       |
| Viewport meta         | ‚úÖ     | –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω                |
| No horizontal scroll  | ‚úÖ     | –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ                         |
| Safe area insets      | ‚úÖ     | `pb-safe` –∫–ª–∞—Å—Å                   |
| Reduced motion        | ‚ö†Ô∏è     | –î–æ–±–∞–≤–∏—Ç—å `prefers-reduced-motion` |

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π action plan

| #   | –ó–∞–¥–∞—á–∞                   | –£—Å–∏–ª–∏—è  | –≠—Ñ—Ñ–µ–∫—Ç        | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç  |
| --- | ------------------------ | ------- | ------------- | ---------- |
| 1   | Dynamic import Leaflet   | –ù–∏–∑–∫–∏–µ  | -40 KB        | üî¥ –í—ã—Å–æ–∫–∏–π |
| 2   | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è lucide-react | –ù–∏–∑–∫–∏–µ  | -20 KB        | üî¥ –í—ã—Å–æ–∫–∏–π |
| 3   | Preload —à—Ä–∏—Ñ—Ç–æ–≤          | –ù–∏–∑–∫–∏–µ  | -200ms LCP    | üî¥ –í—ã—Å–æ–∫–∏–π |
| 4   | React Query –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è   | –°—Ä–µ–¥–Ω–∏–µ | -50% –∑–∞–ø—Ä–æ—Å–æ–≤ | üü° –°—Ä–µ–¥–Ω–∏–π |
| 5   | Skeleton loading         | –°—Ä–µ–¥–Ω–∏–µ | UX —É–ª—É—á—à–µ–Ω–∏–µ  | üü° –°—Ä–µ–¥–Ω–∏–π |
| 6   | Bundle analyzer –≤ CI     | –ù–∏–∑–∫–∏–µ  | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥    | üü¢ –ù–∏–∑–∫–∏–π  |

---

## üìä Lighthouse Score (–æ–∂–∏–¥–∞–µ–º—ã–π –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π)

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è      | –¢–µ–∫—É—â–∏–π | –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π |
| -------------- | ------- | ----------------- |
| Performance    | 85      | 95+               |
| Accessibility  | 90      | 95+               |
| Best Practices | 95      | 100               |
| SEO            | 90      | 95+               |
| PWA            | 90      | 100               |

---

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

1. **Lighthouse CI** ‚Äî —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ GitHub Actions
2. **Yandex Metrica** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞
3. **Bundle Size** ‚Äî –æ—Ç—á—ë—Ç –≤ CI workflow

---

_–û—Ç—á—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: –ì–ª–∞–≤–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞_
